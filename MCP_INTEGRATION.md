# üîó MCP Integration –¥–ª—è Pacific.ai Vector Matching

## –ß—Ç–æ —Ç–∞–∫–æ–µ MCP?

MCP (Model Context Protocol) - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏. –ù–∞—à MCP —Å–µ—Ä–≤–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –º—ç—Ç—á–∏–Ω–≥–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞—Ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

1. **`create_embedding`** - –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
2. **`find_matches`** - –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –º–µ–∂–¥—É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –∏ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
3. **`get_explanation`** - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
4. **`update_weights`** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –º—ç—Ç—á–∏–Ω–≥–∞
5. **`get_weights`** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –≤–µ—Å–æ–≤
6. **`health_check`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
7. **`batch_create_embeddings`** - –ë–∞—Ç—á–µ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ embeddings

## üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MCP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r mcp_requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –º—ç—Ç—á–∏–Ω–≥–∞
pip install -r backend/requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
cp backend/env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
OPENAI_API_KEY=your_openai_api_key
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_ENVIRONMENT=us-east-1-aws
PINECONE_INDEX_NAME=pacific-ai-vectors
```

### 3. –ó–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
python mcp_server.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
python run_mcp_server.py
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏

### Claude Desktop

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Claude Desktop**
2. **–î–æ–±–∞–≤—å—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

```json
{
  "mcpServers": {
    "pacific-ai-vector-matching": {
      "command": "python",
      "args": ["/path/to/vectormatchopent-ai/mcp_server.py"],
      "env": {
        "OPENAI_API_KEY": "your_key_here",
        "PINECONE_API_KEY": "your_key_here"
      }
    }
  }
}
```

### Cursor IDE

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cursor**
2. **–î–æ–±–∞–≤—å—Ç–µ MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

```json
{
  "mcpServers": {
    "pacific-ai-vector-matching": {
      "command": "python",
      "args": ["mcp_server.py"],
      "cwd": "/path/to/vectormatchopent-ai"
    }
  }
}
```

### –î—Ä—É–≥–∏–µ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã

MCP —Å–µ—Ä–≤–µ—Ä —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –ª—é–±—ã–º–∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º–∏ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª.

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ embedding

```python
# –ß–µ—Ä–µ–∑ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
result = await mcp_client.call_tool("create_embedding", {
    "entity_id": "candidate_123",
    "entity_type": "candidate",
    "text": "Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –æ–ø—ã—Ç–æ–º FastAPI",
    "category": "skills",
    "metadata": {"experience": "5_years"}
})
```

### –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

```python
# –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –¥–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
matches = await mcp_client.call_tool("find_matches", {
    "candidate_id": "candidate_123",
    "top_k": 5,
    "min_score": 0.7,
    "weights": {
        "skills": 0.5,
        "career": 0.3,
        "culture": 0.15,
        "salary": 0.05
    }
})
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

```python
# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
explanation = await mcp_client.call_tool("get_explanation", {
    "candidate_id": "candidate_123",
    "vacancy_id": "vacancy_456"
})
```

### –ë–∞—Ç—á–µ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ embeddings

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö embeddings
embeddings = await mcp_client.call_tool("batch_create_embeddings", {
    "embeddings": [
        {
            "entity_id": "candidate_123",
            "entity_type": "candidate",
            "text": "Python, FastAPI, PostgreSQL",
            "category": "skills"
        },
        {
            "entity_id": "candidate_123",
            "entity_type": "candidate",
            "text": "–°—Ç—Ä–µ–º–ª—é—Å—å –∫ —Ä–æ—Å—Ç—É –≤ ML",
            "category": "career"
        }
    ]
})
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
health = await mcp_client.call_tool("health_check", {})
print(health)
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

MCP —Å–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## üöÄ –î–µ–ø–ª–æ–π –≤ Replit

### 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Replit

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/gaiypov/vectormatchopent.ai.git
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r mcp_requirements.txt
pip install -r backend/requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Replit –¥–æ–±–∞–≤—å—Ç–µ –≤ Secrets:
- `OPENAI_API_KEY`
- `PINECONE_API_KEY`
- `PINECONE_ENVIRONMENT`
- `PINECONE_INDEX_NAME`

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä

```bash
python mcp_server.py
```

## üìö API Reference

### create_embedding

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `entity_id` (string) - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å—É—â–Ω–æ—Å—Ç–∏
- `entity_type` (string) - –¢–∏–ø: "candidate" –∏–ª–∏ "vacancy"
- `text` (string) - –¢–µ–∫—Å—Ç –¥–ª—è embedding
- `category` (string) - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: "skills", "career", "culture", "salary"
- `metadata` (object, optional) - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º embedding

### find_matches

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –∏ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `candidate_id` (string) - ID –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `vacancy_ids` (array, optional) - –°–ø–∏—Å–æ–∫ ID –≤–∞–∫–∞–Ω—Å–∏–π
- `top_k` (integer, optional) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- `min_score` (number, optional) - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.3)
- `weights` (object, optional) - –í–µ—Å–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å –±–∞–ª–ª–∞–º–∏

### get_explanation

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `candidate_id` (string) - ID –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `vacancy_id` (string) - ID –≤–∞–∫–∞–Ω—Å–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **API –∫–ª—é—á–∏** –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues**: https://github.com/gaiypov/vectormatchopent.ai/issues
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: README.md
- **–ü—Ä–∏–º–µ—Ä—ã**: backend/example_usage.py

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è Pacific.ai** üöÄ
